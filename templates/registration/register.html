{% extends 'layouts/base-fullscreen.html' %}
{% load static %}

{% block title %} Sign UP {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block body_class %} sign-in-illustration {% endblock body_class %}

{% block content %}

  {% if user.is_authenticated %}
    {% include "includes/navigation.html" %}
  {% else %}
    {% include "includes/navigation-auth.html" %}
  {% endif %}

  <section>
    <div class="page-header section-height-100">
      <div class="container">
        <div class="row">
          <div class="col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0 mx-auto mt-4">
            <div class="card card-plain mt-6">
              <div class="card-header pb-0 text-left">
                <h4 class="font-weight-bolder">
                  {% if user.is_authenticated %}
                    Register new worker
                  {% else %}
                    Sign UP
                  {% endif %}
                </h4>

              <p class="mb-0">
                {% if user.is_authenticated %}
                  Add credentials of new worker
                {% else %}
                  Add your credentials
                {% endif %}
              </p>

            </div>
            <div class="card-body">
              <form method="post" action="" role="form">

                {% csrf_token %}

                <div class="mb-3">
                  {{ form.username }}
                </div>
                <span class="text-error">{{ form.username.errors }}</span>

                <div class="mb-3">
                  {{ form.first_name }}
                </div>
                <span class="text-error">{{ form.first_name.errors }}</span>

                <div class="mb-3">
                  {{ form.last_name }}
                </div>
                <span class="text-error">{{ form.last_name.errors }}</span>

                <div class="dropdown mb-3"
                     style="border-radius: 0.5rem; line-height: 1.4rem; border: 1px solid #d2d6da;">
                  {{ form.position }}
                </div>
                <span class="text-error">{{ form.position.errors }}</span>

                <div class="mb-3">
                  {{ form.email }}
                </div>
                <span class="text-error">{{ form.email.errors }}</span>

                <div class="mb-3">
                  {{ form.password1 }}
                </div>
                <span class="text-error">{{ form.password1.errors }}</span>

                <div class="mb-3">
                  {{ form.password2 }}
                </div>
                <span class="text-error">{{ form.password2.errors }}</span>

                <div class="text-center">
                  <button type="submit" name="register"
                          class="btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0">Register
                  </button>
                </div>
              </form>
            </div>
            {% if not user.is_authenticated %}
              <div class="card-footer text-center pt-0 px-lg-2 px-1">
                <p class="mb-4 text-sm mx-auto">
                  Have an account?
                  <a href="{% url 'worker:worker-login' %}" class="text-primary text-gradient font-weight-bold">
                    Sign IN
                  </a>
                </p>
              </div>
            {% endif %}

          </div>
        </div>
        <div
            class="col-6 d-lg-flex d-none h-100 my-auto pe-0 position-absolute top-0 end-0 text-center justify-content-center flex-column">
          <div
              class="position-relative bg-gradient-primary h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center">
            <img src="{% static 'assets/img/shapes/pattern-lines.svg' %}" alt="pattern-lines"
                 class="position-absolute opacity-4 start-0">
            <div class="position-relative">
              <img class="max-width-500 w-100 position-relative z-index-2"
                   src="{% static 'assets/img/login.png' %}">
            </div>
            <h4 class="mt-5 text-white font-weight-bolder">
              Equipment Maintenance Log
            </h4>
            <p class="text-white">
              &copy; <a target="_blank" class="text-white" href="https://bit.ly/3fKQZaL" target="_blank">Vlad Peresta</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    </div>
  </section>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}

  <script src="{% static 'assets/js/soft-design-system.min.js' %}" type="text/javascript"></script>

{% endblock javascripts %}
